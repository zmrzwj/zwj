var center = [
    [1.1598746702997278,1.148046514986376,1.149289871934605,1.1133809346049046,1.1032571226158043,1.0639322942779295,1.0713595667574927,1.0602535177111723,1.0461624986376021,1.0467650027247952,1.0234338038147142,1.0337253079019073,1.038727351498637,1.013287427792915,1.008989395095368,0.9908336239782013,0.9653406103542232,0.9761539373297007,0.9644604059945503,0.9606369700272476,0.945000136239782,0.9593273405994548,0.9659734168937326,0.9698944795640321,0.9733045504087194,1.005508918256131,1.0250571580381471,1.0422945449591288,1.0946300681198908,1.1644476702997273,1.2063373542234332,1.2546635613079014,1.3032753106267025,1.3734273514986375,1.4453978773841962,1.515288953678473,1.556819095367847,1.5928717193460489,1.6216812915531333,1.661857904632153,1.67716823705722,1.6951014032697547,1.7091375940054496,1.759878384196185,1.7486532970027229,1.7789953079019074,1.7743937275204356,1.7734896675749323,1.7654182261580385,1.7689580081743872,1.7721809073569486,1.7698550408719347,1.75962048773842,1.7467976893732968,1.7495916948228887,1.7418041961852868,1.7670336920980922,1.7761363460490471,1.7920482370572202,1.7876444141689365,1.7738030326975478,1.798323972752044,1.7927353841961846,1.828961825613079,1.8023451989100807,1.7981888337874654,1.7960849455040864,1.7767500844686657,1.7798980790190737,1.7585300899182554,1.7679718882833781,1.735517040871935,1.740722844686649,1.7410976403269758,1.7392548637602177,1.7600622070844694,1.7029835858310618,1.7072169400544963,1.6937392915531326,1.7100578910081743,1.7510515476839235,1.7580058283378746,1.754862583106266,1.7600461062670305,1.7302616376021802,1.743137114441416,1.7061711934604902,1.7034552724795644,1.6528615095367842,1.6118220517711173,1.578932866485015,1.521295335149864,1.478874768392371,1.4457776539509537,1.4016245204359674,1.358229899182561],
        [86.3788768,83.9990618,82.10586040000001,80.53272220000001,79.76366080000001,79.12599400000002,76.73784720000002,76.625814,75.35930080000001,74.7567294,73.4164812,74.05155620000001,73.4083112,72.79882479999999,71.95620160000001,71.83096800000001,70.48462160000001,70.0735052,70.163572,70.5846588,69.606212,71.0465958,69.1533028,70.0229466,70.6937304,71.5508342,72.518806,72.9001314,74.37769280000002,74.4950364,75.00084639999999,75.05737320000001,75.1470408,76.287668,76.5847888,76.78714640000001,76.86792960000001,77.41404100000001,77.2642252,78.87343980000001,80.9458808,81.4114026,84.1416076,84.24332620000001,85.84486240000001,87.4244844,87.6558256,89.7455908,88.97992239999999,90.77252220000001,91.37595880000002,91.5998218,91.99783200000002,90.515792,91.08954880000002,89.31310560000001,90.14678880000001,90.6004574,90.28744920000001,90.87255780000001,91.74057600000002,92.1853092,91.97326960000001,92.2601764,93.62536320000001,92.61525139999999,93.9895532,96.63263180000001,98.01284640000002,97.90189960000001,100.5032632,101.12466360000002,103.50954080000002,105.08491120000002,106.984508,113.3754784,115.1122136,111.04328760000001,113.756168,120.7092988,117.5189656,118.736099,121.4256828,127.604673,124.41999680000002,122.4019828,121.57770880000001,121.19961799999999,120.44636080000001,118.2438964,115.55879600000002,111.5474188,107.837124,104.08460420000002,100.33444440000001,96.58327500000001]
];

$(function () {
    $.get('./js/data/2.txt',function (data) {

        var temp = data.split("\n");

        var xData = [];

        temp.map(function (v) {
            if(v==""){
                return;
            }

            var splitTemp = v.split(',');
            var flag = splitTemp[0];

            var xTemp = splitTemp[1].split(" ");
            xTemp = xTemp.filter(function (v) {
                return v != "";
            });

            xTemp = xTemp.map(function (v) {
                return parseFloat(v);
            });
            xTemp.unshift(flag);
            xData.push(xTemp)
        });

        console.log(xData.length);

        var x = [];
        for (var i=1;i<xData[0].length;i++){
            x.push("" + i);
        }

        var clusterCenterOne = [];
        var clusterCenterTwo = [];
        xData.map(function (v) {
            if(v[0] === "0"){
                v.shift();
                clusterCenterOne.push(v);
            }
        });

        xData.map(function (v) {
            if(v[0] === "1"){
                v.shift();
                clusterCenterTwo.push(v);
            }
        });



        var clusterTwo = echarts.init(document.getElementById("clusterTwo"));
        var option = {
            title: {
                text: '聚类中心-2',
                left: 'left'
            },
            tooltip: {
                trigger: 'item' ,
                axisPointer: {
                }
            },
            toolbox:{
                show: true,
                feature: {
                    dataZoom: {
                        yAxisIndex: 'none'
                    },
                    dataView: {readOnly: false},
                    magicType: {type: ['line', 'bar']},
                    restore: {},
                    saveAsImage: {}
                }
            },
            dataZoom:{
                type:'inside'
            },
            legend:{
                data:["类1","类2","聚类中心"]
            },
            xAxis: {
                type:'category',
                splitLine: {
                    lineStyle: {
                    }
                },
                data:x
            },
            yAxis: {
                type: 'value',
                splitLine: {
                    lineStyle: {

                    }
                }
            },
            series: [{
                name: '聚类中心',
                type: 'line',
                lineStyle:{
                    normal:{
                        color: '#000',
                        width:3
                    }
                },
                label: {
                    emphasis: {
                        show: true,
                        position: 'left',
                        textStyle: {
                            color: '#000',
                        }
                    }
                },
                data:center[0]
            },{
                name: '聚类中心',
                type: 'line',
                lineStyle:{
                    normal:{
                        color: '#000',
                        width:3
                    }
                },
                label: {
                    emphasis: {
                        show: true,
                        position: 'left',
                        textStyle: {
                            color: '#000'
                        }
                    }
                },
                data:center[1]
            }]
        };

        clusterCenterOne.map(function (v) {
           option.series.push({
               name: '类1',
               type: 'line',
               label: {
                   emphasis: {
                       show: true,
                       position: 'left',
                       textStyle: {
                           color: 'blue'
                       }
                   }
               },
               data:v
           })
        });

        clusterCenterTwo.map(function (v) {
            option.series.push({
                name: '类2',
                type: 'line',
                label: {
                    emphasis: {
                        show: true,
                        position: 'left',
                        textStyle: {
                            color: 'blue'
                        }
                    }
                },
                data:v
            })
        });

        clusterTwo.setOption(option,true);



    },'text');
});

